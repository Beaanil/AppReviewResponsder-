package com.anilmane.Smart.App.Review.Responder.Controller;

import com.mongodb.client.AggregateIterable;
import com.mongodb.client.MongoClients;
import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import org.bson.Document;
import org.bson.conversions.Bson;
import java.util.Arrays;
import java.util.List;
import java.util.stream.Collectors;
import java.util.stream.DoubleStream;

import static com.mongodb.client.model.Aggregates.vectorSearch;

public class VectorSearchExample {
    public static void main(String[] args) {
        var client = MongoClients.create("mongodb+srv://avman9165:Anil1234@cluster0.9vlnqw6.mongodb.net/smart-review-db?retryWrites=true&w=majority&appName=Cluster0");
        MongoDatabase database = client.getDatabase("smart-review-db");
        MongoCollection<Document> collection = database.getCollection("faqs");

        // Example embedding vector (replace with real data)
        double[] queryVector = {-0.005256068, -0.0021093215, 0.016940232, -0.0114379395, -0.033040017, 0.015338133, -0.010334855, -0.01753117, 0.022928407, -4.8588263E-4, 0.03264606, 0.0013804976, -0.0018007205, 0.020315146, -0.009973726, 0.006326323, 0.01300721, 0.026211398, 0.02148389, 0.014747194, -0.020433335, 0.023768853, 0.014432027, 0.0033650654, -0.0033617825, -0.03191067, 0.004829279, -0.028391303, 0.02414968, 9.750482E-4, 0.0061424756, -0.0076362365, -0.011582391, -0.015167417, -0.04181217, 0.010938925, 7.940734E-4, -0.0447012, -0.010295459, -0.034957286, 0.011464204, 0.0082140425, -0.016165446, 0.009954028, -0.011050547, 0.035482563, -0.007051864, -0.027288219, -0.019093875, 0.007944837, -0.007820084, 0.0038115522, -0.0013550544, -0.044070866, 0.021497022, 0.018227164, -8.215684E-4, 0.014970438, 0.019934319, -0.019185798, 0.015745224, 0.021694003, -0.017570566, 0.004990146, 0.013617845, 0.012586987, -0.014602743, -0.009061054, -0.009954028, -0.008850943, 0.02736701, 0.021969775, -0.0021881133, 0.002485224, 0.015128021, -0.007806952, -0.0048030154, -0.014340104, 0.0077150282, 0.015679564, 0.018017054, -0.030019667, -0.0065856795, 0.043519326, 0.023860777, -0.005377539, 0.0146946665, 0.02007877, 0.013946145, 0.004629017, 0.013059737, 0.022337468, 0.0022898861, 0.01673012, 1.694844E-4, 0.008128685, -0.004829279, 0.02194351, 0.008141817, 4.813685E-4, -0.034326952, -0.0047734687, -0.0059980243, -0.009520673, -0.008831245, -0.016848309, 0.0012631307, -0.018253429, 0.027104372, -0.0037229115, 0.022114225, 0.063296065, 0.011286922, -0.0019927754, -0.016283633, -0.008640831, -0.01792513, -0.023808248, -0.03403805, -0.020288883, -0.0043762266, 0.0010989811, 0.020459598, 0.0082994, 0.00709126, -0.020748502, -0.019527229, 4.9203826E-4, 0.010400515, -0.019448437, 0.019054478, 0.007741292, 0.026382113, 0.007143788, -0.017399851, -0.003356858, 0.009126714, -0.009107016, -0.018975686, 0.0064740577, 0.033092547, 0.021575814, 0.0025590912, 0.0015454679, -0.017163476, 0.0322521, -0.003005578, 0.01759683, 0.002657581, -0.018752443, -0.010682852, -0.0038148353, -0.025029521, -0.019080741, 0.008929735, 0.015758356, -0.0020764917, 0.0150098335, -0.01612605, -0.00795797, -0.017307928, 0.01230465, -0.012718306, 0.0086342655, 0.029967139, 0.028522624, -0.024530506, -0.020354543, 0.023873908, 0.0011966501, -0.0062048524, 0.015088625, -0.011214696, 0.006671037, -0.0066414904, 0.02635585, 0.008699926, 0.014720931, -0.020984877, -0.0064806235, -0.015679564, -0.003585026, -0.0027281654, 0.0511096, -0.033092547, -0.038161483, 0.013630978, 0.0016308257, 0.013151661, -0.016414953, 0.0297045, 8.330589E-4, -0.021194989, 0.006730131, -0.62697244, 0.0037590244, 0.024569903, -0.0103873825, 0.012140499, 0.017623095, 0.0055778013, 0.0029169372, -0.025134576, 0.030387362, -0.00929743, 0.020774765, -0.017938262, -0.0029694652, -0.026671017, -0.02101114, 0.015810883, 0.0065167365, 0.004162832, 0.009179242, 0.012560722, 0.029993404, -0.018713048, 0.008417589, 0.0051411632, -0.009947462, 0.0201313, -0.024386056, -0.022232413, 0.024674958, -0.0069599403, -0.005659876, 0.004589621, -0.009671691, 0.057570525, -0.032147046, -0.018345352, 0.03406431, 0.007097826, 0.043624382, -0.016099786, -0.026329586, 3.9785742E-4, -0.007183184, -0.0016907402, -0.0029743896, 0.0068089226, 0.0019468135, 0.03687455, -0.0073276353, 8.0679497E-4, -0.021391967, -0.03264606, 0.013420866, 0.006966506, 0.014629006, -0.0061227777, -0.009888368, 0.022166753, 0.009218638, -0.0075114826, 0.024569903, -0.03230463, -0.012534458, -0.04709122, -8.5101274E-5, -0.0028841074, 2.3904277E-4, 0.006391983, -0.009225204, -0.003005578, 0.011687447, -0.019054478, 0.0072751073, -0.002163491, -0.011739975, 0.0036309878, 0.002303018, 0.01679578, 0.001736702, 0.014195652, -0.011936954, 0.027340747, -1.3737264E-4, 0.03427442, 0.028417567, -0.0027347312, -0.029809555, -0.017097816, -0.015403792, 0.05799075, 5.002457E-4, 0.01785947, -0.005633612, -0.0037721563, 0.022849616, -0.023729457, 0.008929735, 0.016204841, -0.01960602, -0.020617181, -0.011845031, 0.0073998612, 0.010715682, 0.034799702, 0.04099799, -0.0029448427, -0.0037688734, 0.03498355, -0.018516067, -0.0022948105, -0.018411012, 6.512633E-4, 0.006267229, -0.008535776, -0.030256042, 0.02576491, 0.012212725, 0.011037415, -0.014103728, 0.014734062, -0.010932359, 0.014484555, 0.008378193, -0.001746551, -9.110299E-4, 0.017806942, -0.0062212674, -8.68351E-4, -0.0048325625, -0.025160842, -0.03346024, 0.0027954667, -0.013020341, 0.0013484884, 0.02723569, 0.03170056, -0.017715018, 0.022731427, -0.0122061595, -0.0038279672, -0.025187105, -0.012902154, -0.028601415, 0.0040577766, -0.04919233, 0.006667754, 0.0013722901, 0.009743917, 0.027577123, -0.004225209, -0.020984877, 0.01133945, 0.029783292, -0.028076136, -0.020892954, 0.011076811, -0.03718972, -0.022718295, -0.011739975, -0.0077281604, 0.02957318, -0.016559405, -0.004583055, -0.00977018, -6.873762E-4, 0.014878514, 0.014024937, -0.0029054468, -0.03325013, -0.008640831, -0.015548244, -0.004714375, -0.014195652, -0.0072488436, 0.016309898, -0.00789231, 0.0014560064, -0.0061260606, -0.011845031, 0.018030185, 0.0064576427, 0.0076756324, 0.0011736692, 0.020302014, -6.767065E-4, 0.015837148, 0.0434668, -0.03135913, 0.04307284, -0.0027429387, -0.019080741, 0.0027347312, -0.005948779, 0.0050229756, 0.019566625, 0.010072215, 0.015627036, 0.021838455, 0.018292824, 0.029494388, 0.0019156251, 0.021510156, 0.00919894, 0.026526565, -0.021300044, 0.004937618, -0.037032135, 0.044648673, -0.0010743587, -0.0115758255, 0.0043926416, 0.0014691383, -0.01785947, -0.0044353204, 0.038844347, 9.430391E-4, 0.024175944, -0.0021700568, 0.029520653, -0.02501639, 0.0154300565, 0.021168724, -0.009271165, -0.0061063627, 0.0111227725, 0.029757028, 0.012534458, 0.013131963, -0.022862747, -2.304249E-4, -2.540214E-4, -8.113091E-4, 0.020275751, 0.013552186, 0.031122752, 0.017518038, -0.0029743896, 0.028732736, -0.010183837, 0.007780688, 0.025712384, 0.018975686, -0.0111556025, 0.022284942, 0.031096488, 0.00709126, -0.0025426764, -0.010374251, -0.0055022924, 0.0075311805, 0.010321722, -0.015600772, -0.022560712, 0.012554157, -0.019500965, 0.0011539712, 0.014510819, 0.021825323, 0.022980936, -0.0062508145, -0.024911333, 0.0071963156, -0.013893616, 0.008791849, -0.018450407, -0.0019665114, -0.0023522628, 0.009533805, -0.017544303, 0.010748511, -0.006710433, 0.011057112, 5.548254E-4, 0.0188575, -0.008942867, 0.037898846, -0.018765574, 0.0097898785, -0.0091595445, -0.038371596, -0.015889674, 0.022718295, 0.013401168, 0.017649358, -0.00597176, -0.025672987, 0.002806957, 0.027288219, 0.03332892, -0.007852914, -0.0014395914, 0.0051116166, 0.009468146, 0.01632303, -0.013072869, 0.022875879, -0.029468125, 0.008411022, 0.03519366, -0.0018729462, 0.0051739933, -0.0050032777, -0.00795797, 0.04236371, 0.0010956981, -0.012028878, -0.014931042, 0.0015036097, -0.029126694, 0.0058174594, -0.009724218, 0.013775429, -0.016677592, 0.010347987, 0.01913327, -0.012652646, -0.0380039, 0.0065397173, 1.3419225E-4, -0.010722248, -0.021746531, -0.014760327, 0.027288219, 0.073854156, 0.027288219, 0.017609961, 0.027813498, -0.009875236, -0.005689423, -0.020643445, -0.05599469, 0.01986866, -0.017806942, -0.013788561, 0.007458955, -0.00252462, -0.0065725474, 0.0151148895, -2.6161333E-5, 0.029126694, 0.0047767516, -0.009947462, -0.018975686, -0.022179885, 0.0013616204, -0.02414968, 0.013099133, 0.035823993, 0.026513433, 0.028286248, -0.0071043917, 0.019303985, -0.009632295, 0.0111753, 0.013630978, 0.014891646, -0.01558764, -0.008148383, 0.02910043, -0.0032419534, 0.008942867, -0.0020961897, 0.0051280316, 0.023834514, 0.026080078, 0.004645432, -0.017820073, 0.012153632, -0.003525932, -0.014077464, 0.018686783, -0.006946808, -0.004606036, 0.0026559394, 0.009021658, -0.013565318, -0.0076428023, -0.009625729, 0.010361119, 0.010111611, -0.0013263283, -0.010078781, -0.009001961, -0.032882433, -0.02066971, -0.012948115, 2.4058167E-5, -0.021720266, -0.035036076, 0.0033125377, -0.0068220547, -0.0082994, 0.0036474026, 0.025843702, -0.041838434, -0.024254736, 0.02923175, 0.008575172, 0.027839761, 0.020840425, -0.014970438, -0.02308599, 0.023427421, 0.021575814, -0.0313066, 0.01906761, 0.007038732, 0.016139183, 0.022245545, -0.02160208, 0.01566643, -2.511488E-4, 0.004349963, 0.010059084, 2.0631545E-4, 0.019658549, -0.003197633, -0.0035521958, -0.01779381, 0.018319089, 0.016428085, 0.0024638847, 0.012225857, 0.020302014, -0.008384759, -0.010321722, -0.01566643, 0.01738672, 0.011411676, -0.005613914, -0.0097898785, -6.2007486E-4, 0.012665778, 0.0040807575, 0.021234384, -0.01854233, -0.010479307, 0.007019034, 0.025370952, 0.01009848, 0.010151007, 0.0073276353, 0.0076428023, -0.026382113, -0.019973716, 0.030965168, 0.0052265213, 0.004018381, -0.0076625003, -0.0015274114, -0.026053814, -0.007314503, -0.0021158876, 5.0886354E-4, 0.006316474, 9.816142E-4, -0.0040282295, -0.029625708, -0.016953364, 0.0014239972, 0.018030185, -0.0126263825, -0.016073523, -0.021694003, -0.023243574, 0.014261312, 0.019645417, -0.005026259, -0.027997345, 0.0036999306, 1.7389591E-4, 1.5142794E-4, 0.026172003, -0.01632303, 8.8230375E-4, -0.031989463, -0.0055154245, -0.031595502, -0.013473394, -0.026277058, -0.0075837085, 0.023204178, 0.019054478, 0.02836504, -0.0012007538, 0.019973716, 0.0011736692, 0.0038345333, 0.00836506, 0.0031434635, -0.035613883, -0.016887704, -0.008726189, 0.017833205, 0.0040807575, 0.034747172, -0.007787254, -0.021510156, -0.022468789, -0.0020042658, -0.007334201, -0.0093696555, -0.044123396, 0.0020764917, -0.005032825, 0.0061293435, 0.016309898, -0.0054563307, 0.007064996, -0.029284278, -0.012875889, 0.022521317, -0.0040676254, 0.024136547, -0.016585669, 0.020840425, 0.009875236, -0.017701887, -0.010787907, -0.0055581033, -0.0051904083, 0.013827957, 0.025725516, -0.019212062, 0.013657241, -0.0329087, -0.00919894, -0.01003282, -8.91332E-4, -0.023151651, -0.011385412, -0.0023686779, 0.0016012788, 0.0054628965, -0.016533142, -0.032462213, 0.009080753, 0.017399851, -0.00418253, -0.0014642138, 0.0050196927, -0.015824016, -0.025935628, -0.0015397227, 0.003956004, -0.0094747115, 0.014812854, 0.039448418, 0.025068916, -0.001063689, -0.02836504, -0.03030857, 0.0051345974, 0.0035620448, 0.014366368, 0.023650665, -0.020393938, -0.02347995, 0.023571873, 0.009730784, -0.005584367, -0.027156899, 0.018292824, 0.03191067, -0.0081812125, -0.007820084, 0.00488509, -3.2891464E-4, 0.019093875, -0.018227164, 0.006014439, -0.020210091, 0.016572537, -0.036585648, 0.013933012, -0.0047997325, 0.0020124733, 0.009126714, -0.005311879, -0.008207477, -0.023440553, 0.00856204, 0.012127368, -0.0075837085, 0.014300708, -0.0028512774, 0.028076136, -0.024806278, 0.0139592765, 0.00839789, -0.015968466, -0.008791849, 0.029783292, -0.029468125, -0.014760327, -0.007130656, -0.033617824, 0.013749165, -0.0066579054, -0.009980292, -0.008936301, -0.012508195, 0.008864075, 0.014668402, 0.0057419506, -0.0151148895, -9.020017E-4, -0.012875889, 0.0075837085, 0.0038148353, 0.016178578, 0.017399851, -0.025909362, -0.021864718, -0.016887704, 0.003555479, 8.642473E-4, 7.6493685E-4, -0.003171369, 0.020827293, 0.022495052, -0.028338775, 0.006030854, 0.0107353795, -0.0050393906, -0.017872602, 2.4437762E-4, -0.013749165, -0.021654608, 0.023703193, 0.0071569197, -0.009152978, -0.023466818, 0.017990788, 0.017898865, 0.009349958, -0.0040512104, -0.012291517, 0.02094548, -0.0036867985, -0.011385412, -0.0021142461, -0.014865382, -0.01686144, 0.023795117, -0.004609319, 0.01900195, -0.0072094477, -0.032225836, 0.013657241, -0.002124095, -0.021129329, -0.005305313, -0.016375558, 0.021391967, -0.0122061595, -0.019999979, -0.030676266, -0.0124884965, 0.010111611, 0.009711087, 0.0047767516, 1.0372199E-4, -0.0049277693, 0.0037458923, -0.0072357114, 0.020984877, -0.005068938, 0.010413647, -0.021707134, -0.033959255, -0.039290834, 0.0065856795, 2.1134253E-4, 0.036428064, 0.010695984, -0.012455666, -0.032593533, -0.026198266, -0.05778064, -0.009107016, -0.014340104, 0.0030991433, 0.021785926, -0.010938925, -0.017504906, 0.016217975, 0.002680562, 0.039763585, -0.020157563, -0.004940901, -0.041996017, -0.010433344, -0.0081812125, -0.011497034, -0.006372285, -0.011293488, -0.004218643, -3.1434637E-4, 0.020170694, 0.017754413, -0.01585028, -0.02047273, 0.0027412972, 0.010118177, 0.022692032, 0.007905441, 0.0054825945, -0.022271808, -0.012698608, 0.015705828, 0.0062212674, 9.87462E-6, -0.0040906062, 0.029310541, -0.010630324, -0.017229136, -0.0072094477, -0.012330913, -0.014773458, -0.02148389, 0.03332892, 0.0076953303, -0.012751136, 0.02101114, -0.006382134, 0.0117531065, -0.011805635, 0.00836506, -0.023729457, -0.005213389, 0.02026262, -0.011707145, -9.2416187E-4, -0.004553508, 0.003959287, -0.04160206, -0.03277738, -0.0017843054, -0.015600772, -0.02602755, -0.0053348597, 0.006080099, 0.0047931666, -7.768377E-4, -0.018463539, -5.4579723E-4, 0.011542995, -0.020682842, 0.0047866004, -0.004678262, 8.7573775E-4, 0.032961227, 0.010426778, -0.038765553, 0.011982916, 2.9116025E-4, 0.03382794, 0.027971081, 0.22019675, 0.014615875, 0.0029530502, 0.013289547, -0.015942203, 0.04047271, 0.009848972, 0.015758356, 1.9944168E-4, 0.02836504, -0.004986863, 0.0076165386, -0.03994743, 4.4771787E-4, -0.013105699, -0.032225836, -0.04262635, -0.0047045257, -0.023768853, 0.00568614, 0.017636226, -0.007682198, 0.0031385391, 0.002468809, 0.04756397, 0.0102101015, 0.008174647, 0.021234384, 0.007143788, 0.03104396, -0.029310541, -0.0054267836, 0.013880485, -0.0045042634, -0.02836504, 0.0013739316, 0.01585028, -0.017964525, -1.5173573E-4, 0.012843059, -0.014615875, -7.8381406E-4, 0.018305955, -0.018752443, -0.014629006, 0.013630978, 4.690573E-4, -0.0018220599, -0.020919217, 0.010407081, -0.017110948, -0.023099123, 0.03004593, 0.010144441, 0.016848309, -2.1236847E-4, -0.013040039, -0.007202882, -0.028575152, 2.5802256E-5, 0.0048555434, 0.0019697945, -0.011286922, 0.015600772, -0.042442504, 0.033959255, 0.0074720867, 0.0061490415, 0.007741292, -0.022271808, 0.010722248, 0.004573206, -0.021444496, 0.026408378, -0.0029645406, -0.031726822, 0.0013903466, 0.060301974, 0.022928407, 0.022298073, -0.037872583, 0.033880465, 0.0051083337, -0.0047242236, -0.0138542205, 0.005325011, 0.030387362, -0.02328297, -0.032462213, -0.019120138, 0.0048522605, -0.0075837085, -0.009277732, -0.0034668383, -0.0045797722, 0.0075837085, -0.0060538347, 0.018384747, -0.008877207, 0.020709105, -0.026447773, 0.036716968, 0.021628343, 0.004658564, -0.0055121416, -0.018030185, 0.027209427, 0.015758356, 0.020459598, 0.0016078447, -0.005416935, -0.018003922, -0.005725536, -0.007872612, 0.0037557413, 0.008338796, 0.015889674, -0.0026132606, -0.019435305, -0.008929735, 0.016848309, -0.01839788, -0.025594195, -0.012475365, -0.00491792, -0.013079435, -0.012541025, 1.2095769E-4, -0.0151148895, -0.016441217, 0.02429413, -0.012501629, 0.011923823, -0.0217334, -0.016139183, -0.0034569893, 0.011799069, -0.03204199, 0.0023637533, 0.014353235, 0.0065068877, 0.011024283, -0.011831898, -0.01919893, 0.025200237, -0.020853557, 0.0036080068, -0.012823362, -0.0135390535, -0.0060538347, -0.03217331, -0.0047669024, -0.020315146, 0.0025393933, 0.035876524, 2.4699375E-5, -0.047248803, -0.021260647, 0.00648719, -0.014812854, -0.037688732, -0.018424144, 0.029152958, 0.008049893, -0.057097774, 0.004277737, -0.16493745, -2.2673154E-4, -0.013906749, -0.032068253, 0.0012910361, -0.0012828286, 0.012541025, -0.0121733295, -0.0076559344, -0.0059422133, 0.0037327604, 0.009540371, -0.023256706, -0.0037524584, 0.008936301, 0.0023571874, -0.008207477, 0.021746531, 0.02127378, 0.009730784, 0.029152958, -0.014143124, 0.037032135, 2.3083529E-4, -0.011103075, 0.014563347, -0.024189075, 0.0058338745, 0.006319757, -0.033959255, -0.0065561323, -0.00936309, 0.035403773, 0.020932348, 0.0080039315, -0.028601415, 0.017058419, 0.0020354541, -0.0015446472, 0.014865382, 0.013335508, 0.018831234, 0.0025837137, 0.01766249, 0.0010201894, 0.008772152, 0.0020387373, 0.009152978, -0.0072751073, -6.656264E-4, -0.0061818715, -0.033145074, -0.0013394603, -0.009113582, 0.0108404355, 0.024215339, -8.905112E-4, 0.007931706, -0.028286248, -0.010091914, -0.009435316, -0.023217311, 8.0679497E-4, 0.016296767, 0.0047636195, -0.007866045, 0.025344688, 0.018699916, 0.013617845, 0.014156256, -0.0123112155, -0.006227833, 0.03359156, 0.006618509, 0.01578462, -0.00543335, -0.015311869, 9.2498265E-4, 0.018017054, 0.0017284947, -0.020630313, -0.006326323, -0.04099799, 0.014366368, -0.024911333, 0.011792502, 0.0074523888, -0.001431384, 0.0102101015, -0.01732106, 0.025410349, -0.024005229, 0.003522649, -0.012541025, 0.023598138, 0.030361097, 0.010308591, -0.0043598115, 0.02910043, -0.0151148895, -0.0018614557, -0.008824679, -0.013040039, 0.014077464, 0.016060391, -0.011096508, -3.2768352E-4, -0.022455657, 0.011411676, -0.022534449, -0.030019667, 0.0047242236, -0.004494414, 0.032541003, -0.028286248, -0.02073537, -0.011142471, 0.00361129, -0.010072215, 0.015824016, 0.058148332, -0.012672344, 1.46580405E-5, 0.017518038, -0.015377529, -0.006776093, -0.10158887, -0.03973732, 0.025567932, -0.016112918, -0.0135390535, 0.020420203, 0.009008527, 0.024254736, 0.0022422827, 0.0102823265, -0.010242931, -0.022232413, -0.037820052, -0.0033026887, -4.674158E-4, -0.013473394, -0.013368338, -0.004018381, -0.03070253, 0.0073013715, -0.008351929, -0.02702558, 0.006332889, 0.0040315124, -0.029730763, -0.015824016, -0.009645427, 0.019277722, 0.0034077445, -0.008667096, 0.029967139, -0.0072488436, 0.019120138, -0.004694677, 0.0039888336, 0.011089942, -0.023322366, -0.009343391, 0.042731408, -0.030229779, -0.0033781976, 0.004261322, -0.00488509, -0.041129306, -0.02622453, -0.017465511, 0.003975702, 0.03472091, 0.0068680164, -0.023243574, 0.0051542954, -0.02347995, -0.027314482, -0.034931023, 0.02723569, 0.011057112, 0.0048752413, 0.02141823, -0.015692696, 0.0010292176, 0.001242612, -0.031096488, -0.015994731, -0.031542975, 0.01591594, 0.004146417, 0.020275751, 0.0019747189, 0.0043433965, 0.0074523888, -0.020249486, -0.011549561, -0.013919881, 0.021352572, -0.032698587, -0.020643445, 0.008522644, -0.0040610596, -0.013578449, 0.00779382, -0.010439911, -0.007984233, -0.011588957, -0.017780678, -0.031884406, 6.1915154E-5, 0.025581064, -0.013033473, -0.0050623715, -0.005915949, 4.4115187E-4, 0.014747194, 0.004973731, -0.0075837085, -0.01133945, -0.009041357, 0.007406427, -0.004307284, 0.010991453, -0.013171359, 0.0058273086, -0.0051378803, -0.032225836, 0.006286927, 0.008759019, 0.0036342707, 0.024438582, -0.018804971, 0.005804328, -0.017609961, -0.011247526, 0.011930388, -0.03311881, 0.035167396, -0.0076953303, 2.0005724E-4, -0.01666446, 0.011424808, 0.03779379, -0.0077281604, 0.0047767516, -0.021247515, 0.0042646048, -0.026106343, -7.813518E-4, 0.016690725, -6.385417E-4, 0.005728819, -0.007485219, 0.019921187, -0.0119960485, -0.0092317695, 0.023191046, -0.02923175, 6.323861E-4, 0.016336162, -0.017990788, -0.0061260606, 0.0018220599, 0.036112897, -0.0019336815, 0.030781321, 0.0065298686, -0.027156899, 0.040971722, -0.016611934, 0.0075114826, -0.017583698, -0.026736677, -0.021129329, -0.005613914, -0.01083387, 0.027997345, 0.019592889, -0.015285605, 0.008102421, 0.006700584, -0.017032156, 0.0069533745, 0.005673008, -0.0047964496, -0.014642139, 0.024254736, -0.00906762, 0.023703193, -0.025370952, 0.0061851544, -0.0032682172, -0.056625023, 0.02354561, 0.025751779, -0.035640147, -0.00459947, 0.022101093, 0.0072685415, 0.005932364, 0.032015726, 0.028627679, -0.031017696, -0.010564664, -0.0041497, 0.016953364, 0.02910043, -0.021457627, -0.022692032, 0.0032189724, 0.0141693875, 8.8722823E-4, -0.019592889, 0.012153632, 0.0034372914, -0.012915285, -0.029468125, -0.008161515, -0.017872602, 0.004944184, 0.003548913, 0.010814171, -0.0043007177, 0.002475375, -0.014576479, 0.016231107, 0.031516712, 0.009152978, 0.015259341, 0.008588304, -0.040709086, 0.026920523, -0.009717653, -0.01558764, 0.010584362, 0.019724209, -0.015876543, 0.014418895, 0.0140512, 0.015285605, -0.0010013122, 0.018568596, -0.01274457, 8.351108E-4, -0.034484535, 0.017846338, 0.0073801633, -0.007386729, 0.016835177, -0.017307928, 0.026644753, -0.008240307, 0.0012598477, -0.03427442, 0.0120682735, -0.00333716, -0.003841099, 0.007051864, -0.010689418, -0.012508195, 0.013499658, 0.008713057, -0.0083190985, -0.0054300665, -0.030334834, 0.07805639, 0.025213368, -0.012357177, -0.006634924, 0.044254716, -7.616538E-4, 0.021969775, 0.0023112255, -0.005879836, 7.4113515E-4, 0.032829907, 0.009402486, -0.0067892247, -0.016835177, -0.014221916, -6.694223E-5, -0.024740618, 0.005984892, -0.0030843697, 0.0058929683, 0.011588957, -0.010347987, 0.015088625, -0.0040512104, -0.061772753, -0.008568605, 0.012186461, -0.01444516, -0.014707798, -0.030282306, 0.012527892, 0.014878514, -0.020971745, -0.010354552, 0.02741954, 0.006365719, 0.009271165, -0.0022586975, 0.0059389304, -0.008292834, 7.18975E-4, 0.021851586, -0.02435979, -0.0047307895, 0.0068220547, -0.031753086, -0.0047307895, -0.009047923, 0.010820737};

        List<Double> queryVectorList = DoubleStream.of(queryVector)
                .boxed()
                .collect(Collectors.toList());

// Create the $vectorSearch stage using Document object
        Document vectorSearchStage = new Document("$vectorSearch",
                new Document("index", "faq_index")
                        .append("path", "embedding")
                        .append("queryVector", queryVectorList)
                        .append("numCandidates", 100)
                        .append("limit", 20)
        );

// Run the aggregation
        AggregateIterable<Document> result = collection.aggregate(Arrays.asList(vectorSearchStage));

        System.out.println("Query Vector: " + result);
// Process the results
        result.forEach(doc -> System.out.println(doc.toJson()));
    }
}